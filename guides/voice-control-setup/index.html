<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Setting Up Voice Control in Home Assistant for Dashie Lite - Dashie</title>
  <link rel="icon" type="image/png" href="../../artwork/Dashie_Logo_Orange_Transparent.png">

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      line-height: 1.6;
      background: #ffffff;
      color: #424242;
      min-height: 100vh;
    }

    /* Navigation Bar (combined header) */
    .nav-bar {
      background: #f8f9fa;
      padding: 0 40px;
      border-bottom: 1px solid #e0e0e0;
      display: flex;
      align-items: center;
      justify-content: space-between;
      position: sticky;
      top: 0;
      z-index: 100;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .nav-bar-left {
      display: flex;
      align-items: center;
      gap: 0;
    }

    .logo-container {
      display: flex;
      align-items: center;
      padding-right: 20px;
    }

    .logo {
      height: 50px;
      width: auto;
    }

    .nav-bar ul {
      display: flex;
      list-style: none;
      gap: 0;
    }

    .nav-bar li a {
      display: block;
      padding: 14px 20px;
      color: #555;
      text-decoration: none;
      font-size: 14px;
      font-weight: 500;
      transition: all 0.2s;
      border-bottom: 3px solid transparent;
    }

    .nav-bar li a:hover {
      color: #ffaa00;
      background: rgba(255, 170, 0, 0.05);
    }

    .nav-bar li a.active {
      color: #ffaa00;
      border-bottom-color: #ffaa00;
    }

    .nav-bar li a .beta-tag {
      display: inline-block;
      background: #18bcf2;
      color: white;
      font-size: 10px;
      font-weight: 600;
      padding: 2px 6px;
      border-radius: 3px;
      margin-left: 6px;
      vertical-align: middle;
    }

    .nav-bar li a .early-access-tag {
      display: inline-block;
      background: #ffaa00;
      color: white;
      font-size: 10px;
      font-weight: 600;
      padding: 2px 6px;
      border-radius: 3px;
      margin-left: 6px;
      vertical-align: middle;
    }

    .nav-bar-right {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .btn-login {
      background: #ffaa00;
      color: #ffffff;
      padding: 8px 20px;
      border: none;
      border-radius: 6px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      text-decoration: none;
      display: inline-block;
    }

    .btn-login:hover {
      background: #ffbb22;
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(255, 170, 0, 0.3);
    }

    .btn-signup {
      background: transparent;
      color: #ffaa00;
      padding: 8px 20px;
      border: 2px solid #ffaa00;
      border-radius: 6px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      text-decoration: none;
      display: inline-block;
    }

    .btn-signup:hover {
      background: #ffaa00;
      color: #ffffff;
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(255, 170, 0, 0.3);
    }

    /* Breadcrumb */
    .breadcrumb {
      max-width: 800px;
      margin: 0 auto;
      padding: 20px 40px 0 40px;
    }

    .breadcrumb a {
      color: #666;
      text-decoration: none;
      font-size: 14px;
    }

    .breadcrumb a:hover {
      color: #ffaa00;
    }

    .breadcrumb span {
      color: #999;
      margin: 0 8px;
    }

    /* Article */
    .article {
      max-width: 800px;
      margin: 0 auto;
      padding: 30px 40px 60px 40px;
    }

    .article-header {
      margin-bottom: 40px;
    }

    .article-tag {
      display: inline-block;
      background: #18bcf2;
      color: white;
      font-size: 12px;
      font-weight: 600;
      padding: 4px 12px;
      border-radius: 4px;
      margin-bottom: 15px;
    }

    .article h1 {
      font-size: 2.2em;
      color: #424242;
      margin-bottom: 15px;
      line-height: 1.3;
    }

    .article-meta {
      color: #888;
      font-size: 14px;
    }

    .article-content h2 {
      font-size: 1.5em;
      color: #424242;
      margin: 40px 0 20px 0;
      padding-bottom: 10px;
      border-bottom: 2px solid #ffaa00;
    }

    .article-content h3 {
      font-size: 1.2em;
      color: #424242;
      margin: 30px 0 15px 0;
    }

    .article-content p {
      margin-bottom: 20px;
      color: #555;
    }

    .article-content ul,
    .article-content ol {
      margin-bottom: 20px;
      padding-left: 30px;
    }

    .article-content li {
      margin-bottom: 10px;
      color: #555;
    }

    .article-content a {
      color: #ffaa00;
      text-decoration: none;
    }

    .article-content a:hover {
      text-decoration: underline;
    }

    /* Code blocks */
    .code-block {
      background: #1e1e1e;
      border-radius: 8px;
      padding: 20px;
      margin: 20px 0;
      overflow-x: auto;
    }

    .code-block code {
      color: #d4d4d4;
      font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Fira Mono', 'Droid Sans Mono', monospace;
      font-size: 14px;
      line-height: 1.5;
      white-space: pre;
      background: transparent;
    }

    .code-block .comment {
      color: #6a9955;
    }

    .code-block .key {
      color: #9cdcfe;
    }

    .code-block .string {
      color: #ce9178;
    }

    .code-block .keyword {
      color: #569cd6;
    }

    /* Inline code */
    code {
      background: #f4f4f4;
      padding: 2px 8px;
      border-radius: 4px;
      font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Fira Mono', 'Droid Sans Mono', monospace;
      font-size: 0.9em;
      color: #d63384;
    }

    /* Info boxes */
    .info-box {
      padding: 20px;
      border-radius: 8px;
      margin: 20px 0;
    }

    .info-box.warning {
      background: #fff3cd;
      border-left: 4px solid #ffc107;
    }

    .info-box.tip {
      background: #d1ecf1;
      border-left: 4px solid #17a2b8;
    }

    .info-box.important {
      background: #f8d7da;
      border-left: 4px solid #dc3545;
    }

    .info-box h4 {
      margin-bottom: 10px;
      color: #424242;
    }

    .info-box p {
      margin: 0;
      color: #555;
    }

    /* Steps */
    .step {
      display: flex;
      gap: 20px;
      margin: 30px 0;
      padding: 25px;
      background: #f9f9f9;
      border-radius: 12px;
    }

    .step-number {
      width: 40px;
      height: 40px;
      background: #ffaa00;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: 700;
      font-size: 1.2em;
      flex-shrink: 0;
    }

    .step-content h4 {
      font-size: 1.1em;
      color: #424242;
      margin-bottom: 10px;
    }

    .step-content p {
      margin-bottom: 10px;
      color: #555;
    }

    .step-content p:last-child {
      margin-bottom: 0;
    }

    /* Requirements list */
    .requirements {
      background: #f9f9f9;
      border-radius: 12px;
      padding: 25px;
      margin: 20px 0;
    }

    .requirements h3 {
      margin-top: 0;
      margin-bottom: 15px;
    }

    .requirements ul {
      margin: 0;
      padding-left: 25px;
    }

    /* Architecture diagram */
    .architecture {
      background: #f9f9f9;
      border-radius: 12px;
      padding: 30px;
      margin: 20px 0;
      text-align: center;
    }

    .architecture-flow {
      display: flex;
      align-items: center;
      justify-content: center;
      flex-wrap: wrap;
      gap: 10px;
      margin: 20px 0;
    }

    .architecture-box {
      background: white;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      padding: 15px 20px;
      font-weight: 500;
    }

    .architecture-box.highlight {
      border-color: #ffaa00;
      background: #fff8e6;
    }

    .architecture-arrow {
      color: #888;
      font-size: 1.5em;
    }

    /* Footer */
    .footer {
      max-width: 800px;
      margin: 60px auto 0;
      padding: 40px;
      text-align: center;
      border-top: 1px solid #e0e0e0;
      color: #999999;
    }

    .footer-links {
      margin-top: 20px;
    }

    .footer-links a {
      color: #666666;
      text-decoration: none;
      margin: 0 15px;
      transition: color 0.2s;
    }

    .footer-links a:hover {
      color: #ffaa00;
    }

    /* Mobile Responsive */
    @media (max-width: 768px) {
      .nav-bar {
        padding: 10px 15px;
        flex-wrap: wrap;
        gap: 10px;
      }

      .nav-bar-left {
        width: 100%;
        justify-content: space-between;
        flex-wrap: wrap;
        gap: 10px;
      }

      .logo-container {
        padding-right: 0;
      }

      .logo {
        height: 40px;
      }

      .nav-bar ul {
        width: 100%;
        overflow-x: auto;
        gap: 0;
      }

      .nav-bar li a {
        padding: 10px 12px;
        font-size: 13px;
        white-space: nowrap;
      }

      .nav-bar-right {
        position: absolute;
        right: 15px;
        top: 10px;
      }

      .btn-login, .btn-signup {
        padding: 6px 14px;
        font-size: 13px;
      }

      .breadcrumb,
      .article {
        padding-left: 20px;
        padding-right: 20px;
      }

      .article h1 {
        font-size: 1.6em;
      }

      .step {
        flex-direction: column;
        gap: 15px;
      }

      .code-block {
        padding: 15px;
      }

      .code-block code {
        font-size: 12px;
      }

      .architecture-flow {
        flex-direction: column;
      }

      .architecture-arrow {
        transform: rotate(90deg);
      }
    }
  </style>
</head>
<body>
  <!-- Navigation Bar -->
  <nav class="nav-bar">
    <div class="nav-bar-left">
      <div class="logo-container">
        <a href="/"><img src="../../artwork/Dashie_Full_Logo_Orange_Transparent.png" alt="Dashie" class="logo"></a>
      </div>
      <ul>
        <li><a href="/">Home</a></li>
        <li><a href="/beta-signup">Dashie <span class="early-access-tag">Early Access</span></a></li>
        <li><a href="/dashie-lite">Dashie Lite <span class="beta-tag">Beta</span></a></li>
        <li><a href="/guides/" class="active">How To Guides</a></li>
        <li><a href="/contact">Contact Us</a></li>
      </ul>
    </div>
    <div class="nav-bar-right">
      <a href="https://app.dashieapp.com/login" class="btn-login">Sign In</a>
      <a href="/beta-signup" class="btn-signup">Sign Up</a>
    </div>
  </nav>

  <!-- Breadcrumb -->
  <div class="breadcrumb">
    <a href="/guides/">How To Guides</a>
    <span>/</span>
    <a href="#">Voice Control Setup</a>
  </div>

  <!-- Article -->
  <article class="article">
    <header class="article-header">
      <span class="article-tag">Dashie Lite</span>
      <h1>Setting Up Voice Control in Home Assistant for Dashie Lite</h1>
      <p class="article-meta">Last updated: January 2025</p>
    </header>

    <div class="article-content">
      <p>
        Dashie Lite supports voice control through Home Assistant's Assist pipeline, using "Hey Dashie" as the wake word.
        This guide walks you through setting up Whisper for speech recognition and configuring Dashie Lite to work with your Home Assistant voice assistant.
      </p>

      <div class="info-box tip">
        <h4>Voice Control Upgrade</h4>
        <p>
          Voice control with "Hey Dashie" wake word detection is available as an upgrade for $14.99.
          The base Dashie Lite app is free and includes all dashboard features.
        </p>
      </div>

      <div class="requirements">
        <h3>Prerequisites</h3>
        <ul>
          <li>Home Assistant 2023.5 or later with Assist pipeline</li>
          <li>Dashie Lite installed on your Android device</li>
          <li>Whisper add-on or external Whisper server for speech-to-text</li>
          <li>Microphone access on your Android device</li>
        </ul>
      </div>

      <h2>How It Works</h2>

      <div class="architecture">
        <p>Voice commands flow through this pipeline:</p>
        <div class="architecture-flow">
          <div class="architecture-box highlight">"Hey Dashie"<br><small>Wake Word</small></div>
          <span class="architecture-arrow">→</span>
          <div class="architecture-box">Dashie Lite<br><small>Records Audio</small></div>
          <span class="architecture-arrow">→</span>
          <div class="architecture-box">Whisper<br><small>Speech-to-Text</small></div>
          <span class="architecture-arrow">→</span>
          <div class="architecture-box">Home Assistant<br><small>Process Command</small></div>
        </div>
        <p><small>Dashie Lite handles wake word detection locally on the device. Audio is sent to Home Assistant only after the wake word is detected.</small></p>
      </div>

      <h2>Part 1: Install Whisper in Home Assistant</h2>

      <p>
        Whisper is OpenAI's speech recognition model that converts spoken audio to text.
        Home Assistant offers it as an add-on for easy installation.
      </p>

      <div class="step">
        <div class="step-number">1</div>
        <div class="step-content">
          <h4>Open Add-ons</h4>
          <p>
            In Home Assistant, go to <strong>Settings → Add-ons → Add-on Store</strong>.
          </p>
        </div>
      </div>

      <div class="step">
        <div class="step-number">2</div>
        <div class="step-content">
          <h4>Install Whisper</h4>
          <p>
            Search for "Whisper" and click on the <strong>Whisper</strong> add-on.
            Click <strong>Install</strong> and wait for it to complete.
          </p>
        </div>
      </div>

      <div class="step">
        <div class="step-number">3</div>
        <div class="step-content">
          <h4>Configure Whisper</h4>
          <p>
            After installation, go to the add-on's <strong>Configuration</strong> tab.
            Set the model based on your hardware:
          </p>
          <ul>
            <li><code>tiny</code> - Fastest, least accurate (good for low-power devices)</li>
            <li><code>base</code> - Good balance of speed and accuracy</li>
            <li><code>small</code> - Better accuracy, slower</li>
            <li><code>medium</code> - High accuracy (requires good hardware)</li>
          </ul>
          <p>For most users, <code>base</code> or <code>small</code> works well.</p>
        </div>
      </div>

      <div class="step">
        <div class="step-number">4</div>
        <div class="step-content">
          <h4>Start Whisper</h4>
          <p>
            Go to the <strong>Info</strong> tab and click <strong>Start</strong>.
            Enable "Start on boot" if you want Whisper to run automatically.
          </p>
        </div>
      </div>

      <div class="info-box warning">
        <h4>Performance Note</h4>
        <p>
          Whisper can be CPU-intensive. On a Raspberry Pi 4, the <code>tiny</code> or <code>base</code> model is recommended.
          For faster processing, consider running Whisper on a more powerful machine or using GPU acceleration.
        </p>
      </div>

      <h2>Part 2: Set Up Wyoming Protocol</h2>

      <p>
        Wyoming is the protocol that connects speech services (like Whisper) to Home Assistant's Assist pipeline.
        The Whisper add-on includes Wyoming support, but you need to verify it's properly configured.
      </p>

      <div class="step">
        <div class="step-number">1</div>
        <div class="step-content">
          <h4>Verify Wyoming Integration</h4>
          <p>
            Go to <strong>Settings → Devices & Services → Integrations</strong>.
            Look for a <strong>Wyoming Protocol</strong> integration. If Whisper is running correctly,
            it should have been auto-discovered.
          </p>
        </div>
      </div>

      <div class="step">
        <div class="step-number">2</div>
        <div class="step-content">
          <h4>Add Wyoming Integration (if not auto-discovered)</h4>
          <p>
            If Wyoming isn't listed, click <strong>+ Add Integration</strong> and search for "Wyoming Protocol".
            Enter the host as <code>core-whisper</code> (the add-on's hostname) and port <code>10300</code>.
          </p>
        </div>
      </div>

      <div class="step">
        <div class="step-number">3</div>
        <div class="step-content">
          <h4>Confirm Whisper Service</h4>
          <p>
            Click on the Wyoming integration to see connected services.
            You should see <strong>Whisper</strong> listed as a speech-to-text provider.
            This confirms Wyoming is bridging Whisper to Home Assistant.
          </p>
        </div>
      </div>

      <div class="info-box tip">
        <h4>What is Wyoming?</h4>
        <p>
          Wyoming is Home Assistant's protocol for voice services. It acts as a bridge between
          speech-to-text engines (like Whisper), wake word detectors, and text-to-speech services.
          Without Wyoming, Home Assistant can't communicate with these services.
        </p>
      </div>

      <h2>Part 3: Configure the Assist Pipeline</h2>

      <p>
        Now that Wyoming is connecting Whisper to Home Assistant, we need to configure the Assist pipeline
        to use it. We'll also skip text-to-speech (TTS) since Dashie Lite displays responses on screen.
      </p>

      <div class="step">
        <div class="step-number">1</div>
        <div class="step-content">
          <h4>Open Voice Assistants</h4>
          <p>
            Go to <strong>Settings → Voice assistants</strong>.
          </p>
        </div>
      </div>

      <div class="step">
        <div class="step-number">2</div>
        <div class="step-content">
          <h4>Create or Edit a Pipeline</h4>
          <p>
            Click <strong>Add assistant</strong> to create a new pipeline, or edit an existing one.
            Give it a name like "Dashie Voice".
          </p>
        </div>
      </div>

      <div class="step">
        <div class="step-number">3</div>
        <div class="step-content">
          <h4>Configure Speech-to-Text</h4>
          <p>
            Under <strong>Speech-to-text</strong>, select <strong>Whisper</strong> (or "faster-whisper" if you installed that variant).
          </p>
        </div>
      </div>

      <div class="step">
        <div class="step-number">4</div>
        <div class="step-content">
          <h4>Set Text-to-Speech to None</h4>
          <p>
            Under <strong>Text-to-speech</strong>, select <strong>None</strong>.
            Dashie Lite displays responses visually, so TTS is not needed and would slow down the response.
          </p>
        </div>
      </div>

      <div class="step">
        <div class="step-number">5</div>
        <div class="step-content">
          <h4>Save the Pipeline</h4>
          <p>
            Click <strong>Create</strong> or <strong>Update</strong> to save your voice assistant configuration.
          </p>
        </div>
      </div>

      <div class="info-box important">
        <h4>Important: Set TTS to "None"</h4>
        <p>
          Setting Text-to-speech to "None" is crucial for Dashie Lite. Since responses are displayed on screen,
          TTS would only add unnecessary delay and audio output. Dashie Lite handles response display natively.
        </p>
      </div>

      <h2>Part 4: Configure Dashie Lite</h2>

      <div class="step">
        <div class="step-number">1</div>
        <div class="step-content">
          <h4>Open Dashie Lite Settings</h4>
          <p>
            In Dashie Lite, tap the gear icon in the sidebar to open Settings.
          </p>
        </div>
      </div>

      <div class="step">
        <div class="step-number">2</div>
        <div class="step-content">
          <h4>Navigate to Voice Settings</h4>
          <p>
            Find and tap on <strong>Voice Control</strong> or <strong>Voice Settings</strong>.
          </p>
        </div>
      </div>

      <div class="step">
        <div class="step-number">3</div>
        <div class="step-content">
          <h4>Enable Voice Control</h4>
          <p>
            Toggle on <strong>Enable Voice Control</strong>.
            If prompted, grant microphone permissions to the app. A restart might be required.
          </p>
        </div>
      </div>

      <div class="step">
        <div class="step-number">4</div>
        <div class="step-content">
          <h4>Select Your Pipeline</h4>
          <p>
            Under <strong>Assist Pipeline</strong>, select the voice assistant you configured
            (e.g., "Dashie Voice").
          </p>
        </div>
      </div>

      <div class="step">
        <div class="step-number">5</div>
        <div class="step-content">
          <h4>Test Voice Control</h4>
          <p>
            Say "Hey Dashie" followed by a command like "turn on the living room lights".
            You should see the wake word indicator, then the command being processed.
          </p>
        </div>
      </div>

      <h2>Example Voice Commands</h2>

      <p>Once configured, you can use commands like:</p>
      <ul>
        <li>"Hey Dashie, turn on the kitchen lights"</li>
        <li>"Hey Dashie, what's the temperature outside?"</li>
        <li>"Hey Dashie, lock the front door"</li>
        <li>"Hey Dashie, set the thermostat to 72 degrees"</li>
      </ul>

      <div class="info-box tip">
        <h4>Custom Commands</h4>
        <p>
          You can create custom sentences in Home Assistant to expand what commands are understood.
          Go to <strong>Settings → Voice assistants → Sentences</strong> to add custom phrases and actions.
        </p>
      </div>

      <h2>Troubleshooting</h2>

      <h3>Wake word not detected</h3>
      <ul>
        <li>Ensure microphone permissions are granted to Dashie Lite</li>
        <li>Check that voice control is enabled in Dashie Lite settings</li>
        <li>Speak clearly and at a normal volume</li>
        <li>Make sure the device isn't muted</li>
      </ul>

      <h3>Commands not recognized</h3>
      <ul>
        <li>Verify Whisper is running in Home Assistant</li>
        <li>Check the Assist pipeline is configured correctly</li>
        <li>Try a simpler command to test connectivity</li>
        <li>Check Home Assistant logs for errors</li>
      </ul>

      <h3>Slow response times</h3>
      <ul>
        <li>Try a smaller Whisper model (<code>tiny</code> or <code>base</code>)</li>
        <li>Ensure TTS is set to "None" in your pipeline</li>
        <li>Check network latency between device and Home Assistant</li>
        <li>Consider running Whisper on more powerful hardware</li>
      </ul>

      <h3>No response displayed</h3>
      <ul>
        <li>Verify the Assist pipeline is selected in Dashie Lite</li>
        <li>Check that Home Assistant URL is correctly configured</li>
        <li>Look for errors in the Dashie Lite logs</li>
      </ul>

      <div class="info-box important">
        <h4>Need More Help?</h4>
        <p>
          If you're still having trouble, <a href="/contact">contact us</a> with details about your setup
          and any error messages you're seeing.
        </p>
      </div>
    </div>
  </article>

  <!-- Footer -->
  <footer class="footer">
    <p>&copy; 2026 Dashie LLC. All rights reserved.</p>
    <div class="footer-links">
      <a href="/privacy-policy.html">Privacy Policy</a>
      <span class="separator">|</span>
      <a href="/terms-of-service.html">Terms of Service</a>
    </div>
  </footer>

  <!-- Analytics -->
  <script type="module" src="/js/analytics/website-analytics.js"></script>
</body>
</html>
